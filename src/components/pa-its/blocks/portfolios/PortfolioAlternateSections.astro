---
import { Image } from 'astro:assets';
import { Icon } from 'astro-icon/components';
import { type ImageMetadata } from 'astro';
import SectionWrapper from '~/layouts/SectionWrapper.astro';

export interface Props {
  title: string;
  description: string;
  items: {
    title: string;
    url: string;
    description: string;
    image: ImageMetadata;
    darkImage: ImageMetadata;
    imageAlt: string;
  }[];
}

const { title, description, items } = Astro.props;
---

<SectionWrapper id="projects" showHighlight={true}>
  <div class="max-w-2xl mx-auto text-center">
    <h2
      class="font-heading text-3xl font-extrabold leading-tight tracking-tight text-gray-900 sm:text-4xl dark:text-white"
      set:html={title}
    />
    <p class="mt-4 text-base font-normal text-gray-500 sm:text-xl dark:text-gray-400" set:html={description} />
  </div>

  <div class="mt-12 space-y-16 sm:mt-16">
    {
      items.map((item, index) => (
        <div class="flex flex-col lg:items-center lg:flex-row gap-y-8 sm:gap-y-12 lg:gap-x-16 xl:gap-x-24">
          <div class={index % 2 === 0 ? 'lg:order-2' : ''}>
            <Image src={item.image} alt={item.imageAlt} class="object-cover w-full rounded-lg shadow-lg dark:hidden" />
            <Image
              src={item.darkImage}
              alt={item.imageAlt}
              class="object-cover w-full rounded-lg shadow-lg dark:block hidden"
            />
          </div>

          <div class="w-full space-y-6 lg:max-w-lg shrink-0 xl:max-w-2xl">
            <div class="space-y-3">
              <h3
                class="font-heading text-3xl font-bold leading-tight text-gray-900 sm:text-4xl dark:text-white"
                set:html={item.title}
              />
              <a
                href={item.url}
                target="_blank"
                class="inline-flex items-center text-lg font-medium text-primary-600 hover:underline dark:text-primary-500"
              >
                {item.url}
                <Icon name="material-symbols:open-in-new-rounded" class="w-5 h-5 ml-2.5" />
              </a>
              <p
                class="text-base font-normal text-gray-500 sm:text-lg dark:text-gray-400"
                set:html={item.description}
              />
            </div>
          </div>
        </div>
      ))
    }
  </div>
</SectionWrapper>
